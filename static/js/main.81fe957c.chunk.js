(this.webpackJsonpanimesearch=this.webpackJsonpanimesearch||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){e.exports=a(38)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=(a(25),a(26),a(27),a(18)),i=(a(12),a(2)),u=a(19),s=a(10),m=a.n(s),d=a(1),f=a(15),b=function(e){return fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("Fetcherr",e)}))},E=function(e){var t=e.query,a=e.oldUrl;return function(){var e=Object(f.a)(m.a.mark((function e(n,r){var c,l,o,i,u,s,f,E;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="",l=1,!a){e.next=26;break}return c=a,e.prev=4,n(v(!0)),console.log(r()),o=r().query,l=r().page,l+=1,c="https://api.jikan.moe/v3/search/anime?q=".concat(o,"&limit=16&page=").concat(l),i=r().searchData,e.next=14,b(c);case 14:u=e.sent,s=i.concat(u.results),n(p(s)),n(_(l)),n(v(!1)),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),console.log("error");case 24:e.next=46;break;case 26:return c="https://api.jikan.moe/v3/search/anime?q=".concat(t,"&limit=16&page=").concat(l),e.prev=27,n(h({url:"fetching..."})),n(p([])),n(v(!0)),e.next=33,b(c);case 33:f=e.sent,delete(E=Object(d.a)({},f)).results,E.url=c,n(v(!1)),n(p(f.results)),n(h(E)),n(g(t)),e.next=46;break;case 43:e.prev=43,e.t1=e.catch(27),console.log("error");case 46:case"end":return e.stop()}}),e,null,[[4,21],[27,43]])})));return function(t,a){return e.apply(this,arguments)}}()},p=function(e){return{type:"SET_SEARCH_RESULT_DATA",payload:Object(u.a)(e)}},h=function(e){return{type:"SET_SEARCH_DEBUG_DATA",payload:Object(d.a)({},e)}},g=function(e){return{type:"SET_SEARCH_QUERY",payload:e}},v=function(e){return{type:"TOGGLE_PAGINATION",payload:e}},_=function(e){return{type:"SET_SEARCH_PAGE",payload:e}},O=(a(35),Object(n.memo)((function(e){var t=e.data,a=void 0===t?{}:t,n=a.url,c=a.request_cached,l=a.request_cache_expiry;return r.a.createElement("div",{className:"debug"},"Requesting: ",r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",id:"search_query_url",href:n},n),r.a.createElement("br",null),"Request Cached: ",!!l&&r.a.createElement("span",{id:"request_cached",style:{color:c?"#5DAE28":"#CE3C2D"}},c?"True":"False"),r.a.createElement("br",null))}))),j=(a(36),Object(n.memo)((function(e){var t=e.label,a=void 0===t?"":t,c=e.onClickHandler,l=e.customClass,o=e.disabled,i=void 0!==o&&o;return r.a.createElement(n.Fragment,null,r.a.createElement("button",{disabled:i,className:l,onClick:function(){return c()}},a))}))),y=function(e){var t=e.disabled,a=e.onChangeHandler,c=e.performSearch;return r.a.createElement(n.Fragment,null,r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),c()}},r.a.createElement("input",{id:"search_query",spellCheck:"false",onChange:function(e){return a(e.target.value)},type:"text",name:"query",placeholder:"search for an anime, e.g Naruto"}),r.a.createElement(j,{disabled:t,onClickHandler:function(){return null},customClass:"searchButton",label:"Go"})))},A=function(){var e=Object(i.c)((function(e){return!!e.disablePagination&&e.disablePagination})),t=Object(i.b)(),a=Object(i.c)((function(e){return e})).debugData,c=void 0===a?{}:a,l=Object(n.useState)(""),u=Object(o.a)(l,2),s=u[0],m=u[1];return r.a.createElement("div",{className:"search"},r.a.createElement(y,{disabled:e,onChangeHandler:function(e){m(e)},performSearch:function(){t(E({query:s}))}}),Object.keys(c).length>0&&r.a.createElement(O,{data:c}))},C=(a(13),Object(n.memo)((function(e){var t=e.url,a=void 0===t?"":t,n=e.imageUrl,c=void 0===n?"":n,l=e.name,o=void 0===l?"":l;return r.a.createElement("div",{onClick:function(e){e.stopPropagation(),window.open(a,"_blank")},className:"card"},r.a.createElement("div",{className:"card__image"},r.a.createElement("img",{style:{backgroundImage:"url(".concat("/spinnyCoolAnimes","/images/tenor.gif)")},loading:"lazy",src:c,alt:o})),r.a.createElement("div",{className:"card__name"},r.a.createElement("div",null,r.a.createElement("span",null,o))))}))),S=Object(n.memo)((function(e){var t=e.cardList,a=void 0===t?[]:t;return r.a.createElement("div",{className:"cards"},a&&a.length>0&&a.map((function(e){return e&&e.url?r.a.createElement(C,{key:e.url,url:e.url,imageUrl:e.image_url,name:e.title}):null})))})),k=(a(37),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.searchData})),a=Object(i.c)((function(e){return e.debugData?e.debugData:{}})),c=a.last_page,l=void 0===c?"":c,o=a.url,u=Object(i.c)((function(e){return e.page?e.page:1})),s=Object(i.c)((function(e){return!!e.disablePagination&&e.disablePagination}));return r.a.createElement(n.Fragment,null,t&&t.length>0&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"cards"},r.a.createElement(S,{cardList:t})),u!==l&&r.a.createElement(j,{disabled:s,onClickHandler:function(){u!==l&&e(E({oldUrl:o}))},customClass:"transWhite",label:"View More"})))}),T=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"searchBar"},r.a.createElement(A,null),r.a.createElement(k,null)))};var D=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=a(3),w={page:1},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_SEARCH_RESULT_DATA":return Object(d.a)(Object(d.a)({},e),{},{searchData:n});case"SET_SEARCH_DEBUG_DATA":return Object(d.a)(Object(d.a)({},e),{},{debugData:n});case"SET_SEARCH_PAGE":return Object(d.a)(Object(d.a)({},e),{},{page:n});case"SET_SEARCH_QUERY":return Object(d.a)(Object(d.a)({},e),{},{query:n});case"TOGGLE_PAGINATION":return Object(d.a)(Object(d.a)({},e),{},{disablePagination:n});default:return e}},R=a(16),H=a(17),G=Object(N.createStore)(q,Object(H.composeWithDevTools)(Object(N.applyMiddleware)(R.a)));l.a.render(r.a.createElement(i.a,{store:G},r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[20,1,2]]]);
//# sourceMappingURL=main.81fe957c.chunk.js.map